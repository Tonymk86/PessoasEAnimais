<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:p="http://primefaces.org/ui">
    <h:head>
        <title>Cadastro de pessoa</title>
        <style>
            body {background-color:lightgrey;}
            #pessoa {
                width: 300px;
                height: 35px;
                position: relative;
                top:  0px;
                left: 0px;
            }
            
            #tabela_pessoas {
                position: relative;
                top:  350px;
                left: 0px;
            }
        </style>
    </h:head>
    <h:body>
        <h:form>
            <p:megaMenu orientation="#{megaMenuView.orientation}" style="margin-top:20px">
    <p:submenu label="Cadastro" icon="ui-icon-check">
        <p:column>
            <p:submenu label="Cadastro">
                <p:menuitem value="Cadastro de pessoas" url="#" />
                <p:menuitem value="Cadastro de animais" url="#" />
            </p:submenu>
        </p:column>
    </p:submenu>
 
    <p:menuitem value="Quit" url="http://www.primefaces.org" icon="ui-icon-close" />
</p:megaMenu>
        <div id="pessoa">
            <p:outputLabel value="Cadastro de pessoa:" />
            <table width="300">
                <tr>
                    <td>
                        <p:outputLabel value="Nome:" />
                    </td>
                    <td>
                        <p:inputText size="40" value="#{pessoaView.nome}"/>
                    </td>
                </tr>
                <tr>
                    <td>
                        <p:outputLabel value="Sexo:" />
                    </td>
                    <td>
                        <p:selectOneRadio id="sexo" value="#{pessoaView.sexo}">
                            <f:selectItem itemLabel="Masculino" itemValue="Masculino" />
                            <f:selectItem itemLabel="Feminino" itemValue="Feminino" />
                        </p:selectOneRadio>
                    </td>
                </tr>
                <tr>
                    <td>
                        <p:outputLabel value="CPF:" />
                    </td>
                    <td>
                        <p:inputMask id="cpf" value="#{pessoaView.cpf}" mask="999.999.999-99"/>
                    </td>
                </tr>
                <tr>
                    <td>
                        <p:outputLabel value="RG:" />
                    </td>
                    <td>
                        <p:inputMask id="rg" value="#{pessoaView.rg}" mask="99.999.999-9"/>
                    </td>
                </tr>
                <tr>
                    <td>&nbsp;</td><td></td>
                </tr>
                <tr>
                    <td>
                        <p:outputLabel value="Rua:" />
                    </td>
                    <td>
                        <p:inputText size="40" value="#{pessoaView.rua}"/>
                    </td>
                </tr>
                <tr>
                    <td>
                        <p:outputLabel value="NÃºmero:" />
                    </td>
                    <td>
                        <p:inputText size="5" value="#{pessoaView.numero}"/>
                    </td>
                </tr>
                <tr>
                    <td>
                        <p:outputLabel value="Bairro:" />
                    </td>
                    <td>
                        <p:inputText id="bairro" value="#{pessoaView.bairro}"/>
                    </td>
                </tr>
                <tr>
                    <td>
                            <p:outputLabel value="CEP:" />
                            </td>
                    <td>
                            <p:inputMask id="cep" value="#{pessoaView.cep}" mask="99.999-999"/>
                    </td>
                </tr>
                <tr>
                    <td>
                            <p:growl id="growl" life="2000" />
                            </td>
                    <td>
                        <p:commandButton value="Cadastrar" id="ajax" update="growl" actionListener="#{pessoaView.cadastrarPessoa}" styleClass="ui-priority-primary" />
                    </td>
                </tr>
            </table> 
        </div>
            </h:form>
        <div id="tabela_pessoas">
            <h:form id="formulario_pessoas">
                <p:dataTable id="tabela_pessoas" var="pessoa" value="#{pessoaView.lista_pessoas}">
                <p:column headerText="Nome">
                    <h:outputText value="#{pessoa.nome}" />
                </p:column>

                <p:column headerText="Sexo">
                    <h:outputText value="#{pessoa.sexo}" />
                </p:column>

                <p:column headerText="CPF">
                    <h:outputText value="#{pessoa.cpf}" />
                </p:column>

                <p:column headerText="RG">
                    <h:outputText value="#{pessoa.rg}" />
                </p:column>
                    
                <p:column width="50">
                    <p:commandButton update="tabela_pessoas" actionListener="#{pessoaView.excluirPessoa(pessoa)}" icon="ui-icon-trash" title="Delete">
                    </p:commandButton>
                </p:column>
                </p:dataTable>
        </h:form>
        </div>
    </h:body>
</html>

